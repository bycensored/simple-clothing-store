(this["webpackJsonpsimple-clothing-store-frontend"]=this["webpackJsonpsimple-clothing-store-frontend"]||[]).push([[0],{37:function(e,t,a){e.exports=a(69)},68:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),l=a.n(c),i=a(10),o=a(1),s=a(9),m=a(11),u=a(6),d=a.n(u),p=a(32),f={name:"Clothing Store",companySuffix:"tmi",description:"Comfortable clothing",brand:"CLOTHING",established:"2017",paypalClientID:"ASjp9I91RNWO2A54J_Kq1oHW7M--_zDwRu1dQ0kSo38u32OMIqCaWrcEXBgkdOhygLavA_cZZPPSVojw"},E=function(){return d.a.get("/api/products").then((function(e){return e.data})).catch(console.error)},b=a(20),v=a(3),N=a.n(v),h=function(){var e=window.localStorage.getItem("cart");if(e){var t=JSON.parse(e);return Object(i.a)({},t,{items:t.items.map((function(e){return Object(i.a)({},e,{price:N()(e.price)})}))})}return{items:[]}},y=function(e,t){var a=Object(i.a)({},t,{items:[].concat(Object(b.a)(t.items),[e])});return window.localStorage.setItem("cart",JSON.stringify(a)),a},g=function(e,t){var a=Object(i.a)({},t,{items:t.items.filter((function(t,a){return e!==a}))});return window.localStorage.setItem("cart",JSON.stringify(a)),a},w=function(){var e=window.localStorage.getItem("orders");return e?JSON.parse(e):[]},S=function(e,t){var a=[].concat(Object(b.a)(t),[e]);return window.localStorage.setItem("orders",JSON.stringify(a)),a},O=function(e,t,a){var n=e?Object(i.a)({},a,{discountAmount:t,discountCode:e}):Object(i.a)({},a,{discountAmount:void 0,discountCode:void 0});return window.localStorage.setItem("cart",JSON.stringify(n)),n},j=function(){var e={items:[]};return window.localStorage.setItem("cart",JSON.stringify(e)),e},_=Object(m.e)((function(e){var t=e.cart,a=e.orders,n=e.location,c=e.storeInfo;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm text-center"},r.a.createElement("h1",{className:"display-4 mt-2"},c.name.toUpperCase()),r.a.createElement("ul",{className:"nav nav-tabs",id:"nav"},r.a.createElement("li",{className:"nav-item mr-auto"},r.a.createElement(s.b,{className:"nav-link".concat("/"===n.pathname||n.pathname.includes("/product")?" active":""),to:"/"},"All items")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(s.b,{className:"nav-link".concat(n.pathname.includes("/cart")?" active":""),to:"/cart"},"Shopping cart (",t.items.length,")")),a.length>0?r.a.createElement("li",null,r.a.createElement("button",{className:"btn btn-link nav-link dropdown-toggle".concat(n.pathname.includes("/order")?" active":""),type:"button",id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"My orders"),r.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"dropdownMenuButton"},a.map((function(e){return r.a.createElement(s.b,{key:e,className:"dropdown-item",to:"/order/".concat(e)},"#",e)})))):r.a.createElement("div",null))))})),I=function(){return r.a.createElement("div",{className:"d-flex justify-content-center"},r.a.createElement("div",{className:"spinner-border m-5",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},x=function(e){var t=e.products;return r.a.createElement("div",{className:"row justify-content-center"},t.length>0?t.map((function(e){return r.a.createElement("div",{className:"col-sm-4 p-2",key:e.sync_product.id},r.a.createElement("figure",{className:"figure store-figure"},r.a.createElement("img",{className:"figure-img img-fluid",src:e.sync_product.thumbnail_url,alt:e.sync_product.name}),r.a.createElement("figcaption",null,r.a.createElement("h5",null,e.sync_product.name),r.a.createElement("h6",null,N()(e.sync_variants[0].retail_price).format(!0)),r.a.createElement(s.b,{className:"btn btn-pinkish",to:"/product/".concat(e.sync_product.id),role:"button"},"View"))))})):r.a.createElement(I,null))},k=function(e){var t=e.notification,a=e.setNotification;return 2===t.length?r.a.createElement("div",{className:"alert ".concat(t[1]," alert-dismissible fade show"),role:"alert"},r.a.createElement("button",{onClick:function(){return a([])},type:"button",className:"close","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),t[0]):r.a.createElement("div",null)},C=Object(m.e)((function(e){var t=e.cart,a=e.removeFromCart,c=e.history,l=e.storeInfo,i=e.applyDiscount,s=e.clearCart,m=Object(n.useState)([]),u=Object(o.a)(m,2),p=u[0],f=u[1],E=Object(n.useState)([]),b=Object(o.a)(E,2),v=b[0],h=b[1],y=Object(n.useState)(void 0),g=Object(o.a)(y,2),w=g[0],S=g[1],O=Object(n.useState)(!1),j=Object(o.a)(O,2),_=j[0],I=j[1];Object(n.useEffect)((function(){d.a.get("/api/countries").then((function(e){return h(e.data)})).catch(console.error)}),[]);var x=t.items.reduce((function(e,t){return e.add(t.retail_price)}),N()(0)),C=t.discountAmount?x.multiply(100-t.discountAmount).divide(100):N()(0);return r.a.createElement("div",{className:"row"},r.a.createElement("section",{className:"col-sm p-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card card-outline-secondary mb-3"},r.a.createElement("div",{className:"card-body container"},r.a.createElement("div",{className:"row justify-content-between mb-2"},r.a.createElement("div",{className:"col-6"},r.a.createElement("b",null,"Item")),r.a.createElement("div",{className:"col-6 text-right"},r.a.createElement("b",null,"Price (USD)"))),r.a.createElement("div",null,t.items.length>0?r.a.createElement("div",null,t.items.map((function(e,t){return r.a.createElement("div",{className:"row justify-content-between",key:"".concat(e.idSize,"-").concat(t)},r.a.createElement("div",{className:"col-6 mb-1"},r.a.createElement("button",{className:"btn btn-remove btn-danger",onClick:function(){return a(t)}},"\xd7"),"\xa0",e.name),r.a.createElement("div",{className:"mb-1 col-6 text-right"},N()(e.retail_price).format(!0)))})),t.discountCode?r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-6"},r.a.createElement("b",null,"Discount",t.discountCode?" (".concat(t.discountCode,", -").concat(100-t.discountAmount,"%)"):"")),r.a.createElement("div",{className:"col-6 text-right"},"-",C.format(!0))):r.a.createElement("div",null)):r.a.createElement("div",{className:"mb-2"},"Shopping cart empty")),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-6"},r.a.createElement("b",null,"Total")),r.a.createElement("div",{className:"col-6 text-right",id:"cartSummaryTotal"},x.subtract(C.value).format(!0))),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-12"},l.vat>0?r.a.createElement("span",null,"The VAT and shipping costs will be applied based on your submitted information."):r.a.createElement("span",null,"Shipping costs will be calculated after you submit your information."))))),r.a.createElement("div",{className:"card card-outline-secondary mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement(k,{notification:p,setNotification:f}),r.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=e.target.discount.value;d.a.get("/api/discount/".concat(t)).then((function(e){var a=e.data;a>0?(i(t,a),f(["Discount code applied!","alert-success"])):f(["Sorry, this code isn't valid","alert-danger"])})).catch((function(e){console.error(e),f(["Sorry, there's a problem with the connection!","alert-danger"])}))}(e)}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputDiscount",className:"col-form-label"},"Apply discount code"),r.a.createElement("input",{type:"text",className:"form-control mb-2",name:"discount",id:"discount",placeholder:"Discount code",defaultValue:t.discountCode,required:!0}),r.a.createElement("button",{type:"submit",className:"btn btn-pinkish"},"Apply"),r.a.createElement("button",{className:"btn btn-pinkish ml-2",onClick:function(e){return function(e){e.preventDefault(),i(void 0,void 0)}(e)}},"Clear discount"))))))))),r.a.createElement("section",{className:"col-sm p-2"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("div",{className:"card card-outline-secondary mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,"Details"),r.a.createElement("small",{className:"text-muted"},"You can not change these after fulfillment, make sure they are correct!"),r.a.createElement("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),w){var a=e.target,n={firstName:a.firstName.value,lastName:a.lastName.value,email:a.email.value,phone:a.phone.value,address:a.address.value,secondAddress:a.secondAddress.value,country:a.country.value,city:a.city.value,zip:a.zip.value,cart:t};a.state&&(n.state=a.state.value),I(!0),d.a.post("/api/orders",n).then((function(e){var t=e.data;s(),c.push("/order/".concat(t))})).catch((function(e){console.error(e)}))}}(e)}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputFirstName",className:"col-form-label"},"First Name"),r.a.createElement("input",{name:"firstName",type:"text",className:"form-control",id:"inputFirstName",placeholder:"First Name",required:!0})),r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputLastName",className:"col-form-label"},"Last Name"),r.a.createElement("input",{name:"lastName",type:"text",className:"form-control",id:"inputLastName",placeholder:"Last Name",required:!0}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputEmail",className:"col-form-label"},"Email"),r.a.createElement("input",{name:"email",type:"email",className:"form-control",id:"inputEmail",placeholder:"your@email.com",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputPhone",className:"col-form-label"},"Phone Number (Including your country ",r.a.createElement("a",{href:"https://en.wikipedia.org/wiki/List_of_country_calling_codes"},"calling code"),")"),r.a.createElement("input",{name:"phone",type:"phone",className:"form-control",id:"inputPhone",placeholder:"",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputAddress",className:"col-form-label"},"Address"),r.a.createElement("input",{name:"address",type:"text",className:"form-control",id:"inputAddress",placeholder:"1234 Main St",required:!0})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"inputAddress2",className:"col-form-label"},"Address 2 (optional)"),r.a.createElement("input",{name:"secondAddress",type:"text",className:"form-control",id:"inputAddress2",placeholder:"Apartment, studio, or floor"})),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputCountry",className:"col-form-label"},"Country"),v?r.a.createElement("select",{name:"country",value:w,onChange:function(e){return S(e.target.value)},id:"inputCountry",className:"form-control",required:!0},v.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name)}))):r.a.createElement("div",null)),w&&v.find((function(e){return e.code===w})).states?r.a.createElement("div",{className:"form-group col-md-6"},r.a.createElement("label",{htmlFor:"inputState",className:"col-form-label"},"State"),r.a.createElement("select",{name:"state",id:"inputState",className:"form-control",required:!0},v.find((function(e){return e.code===w})).states.map((function(e){return r.a.createElement("option",{key:e.code,value:e.code},e.name)})))):r.a.createElement("div",null)),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"form-group col-md-7"},r.a.createElement("label",{htmlFor:"inputCity",className:"col-form-label"},"City"),r.a.createElement("input",{name:"city",type:"text",className:"form-control",id:"inputCity",required:!0})),r.a.createElement("div",{className:"form-group col-md-5"},r.a.createElement("label",{htmlFor:"inputZip",className:"col-form-label"},"Zip"),r.a.createElement("input",{name:"zip",type:"text",className:"form-control",id:"inputZip",required:!0}))),_?r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("button",{type:"submit",className:"btn btn-pinkish"},"Continue to payment"))))))))})),D=function(e){var t=e.product,a=e.addToCart,c=Object(n.useState)(0),l=Object(o.a)(c,2),i=l[0],s=l[1],m=Object(n.useState)(t.sync_variants[0].id),u=Object(o.a)(m,2),d=u[0],p=u[1],f=function(e){return s((e?i+1:Math.abs(i-1))%E.length)},E=[t.sync_product.thumbnail_url];return r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-6 col-sm-12 p-2"},r.a.createElement("figure",{className:"figure"},r.a.createElement("img",{className:"figure-img img-fluid",src:E[i],alt:t.name}),E.length>1?r.a.createElement("figcaption",null,r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{onClick:function(){return f(!1)},className:"btn btn-pinkish"},"Back"),r.a.createElement("button",{onClick:function(){return f(!0)},className:"btn btn-pinkish"},"Next"))):r.a.createElement("div",null))),r.a.createElement("div",{className:"col-md-6 col-sm-12 p-2"},r.a.createElement("figure",{className:"figure"},r.a.createElement("figcaption",null,r.a.createElement("h5",null,t.sync_product.name),r.a.createElement("h6",null,d?N()(t.sync_variants.find((function(e){return e.id===d})).retail_price).format(!0):"..."),r.a.createElement("p",null,t.description),r.a.createElement("form",{className:"justify-content-center",onSubmit:function(e){return e.preventDefault(),void a(t.sync_variants.find((function(e){return e.id===d})))}},r.a.createElement("div",{className:"form-row justify-content-center"},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{className:"col-form-label"},"Size:"),r.a.createElement("select",{name:"size",value:d,onChange:function(e){return p(parseInt(e.target.value))},className:"form-control",required:!0},t.sync_variants.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{type:"submit",className:"btn btn-pinkish"},"Add to cart")))))))},A=a(35),P=a(14),Y=a.n(P),F=a(36),T=function(e){var t=e.order,a=e.costs,n=e.setLoading,c=e.setOrderNotification,l=e.setPaid,i=e.clientID;return r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},"You can pay with a credit / debit card via PayPal. All our transactions are processed by PayPal and we never store any of your payment information.",r.a.createElement("br",null)),r.a.createElement("div",{className:"col-md-12"},r.a.createElement(F.PayPalButton,{options:{clientId:i,commit:!0},createOrder:function(e,n){return n.order.create({purchase_units:[{amount:{currency_code:a.currency,value:a.total,breakdown:{item_total:{currency_code:a.currency,value:a.subtotal},shipping:{currency_code:a.currency,value:a.shipping},handling:{currency_code:a.currency,value:N()(a.digitization).add(a.additional_fee).add(a.filfillment_fee).format()},tax_total:{currency_code:a.currency,value:N()(a.tax).add(a.vat).format()},discount:{currency_code:a.currency,value:a.discount}}},description:"Payment for your order ".concat(t.id),custom_id:"".concat(t.id)}],application_context:{shipping_preference:"NO_SHIPPING",brand_name:"CLOTHING STORE"}})},onApprove:function(e,t){return function(e,t){n(!0),t.order.capture().then((function(e){d.a.post("/api/confirm/".concat(e.id)).then((function(){c(["Your order has been confirmed. We're getting it ready for shipment now!","alert-success"]),l(!0),n(!1)}))}))}(0,t)}})))},q=function(e){var t=e.order,a=e.setLoading,n=e.setOrderNotification,c=e.paid,l=e.setPaid,i=e.storeInfo,o=t.retail_costs&&t.retail_costs.total?t.retail_costs:t.costs;return r.a.createElement("div",{className:"card card-outline-secondary"},r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-4"},r.a.createElement("b",null,"Price")),r.a.createElement("div",{className:"col-4 text-right"},r.a.createElement("b",null,"$ USD"))),t.items.map((function(e){return r.a.createElement("div",{key:e.name,className:"row justify-content-between"},r.a.createElement("div",{className:"col-6"},e.name," (",e.quantity,")"),r.a.createElement("div",{className:"col-4 text-right"},r.a.createElement("div",null,"$",e.retail_price)))})),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-4"},r.a.createElement("b",null,"Shipping")),r.a.createElement("div",{className:"col-4 text-right"},"$",o.shipping)),o.digitization?r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-4"},r.a.createElement("b",null,"Digitization")),r.a.createElement("div",{className:"col-4 text-right"},"$",o.digitization)):r.a.createElement("div",null),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-4"},r.a.createElement("b",null,"Tax/VAT (",i.vat,"%)")),r.a.createElement("div",{className:"col-4 text-right"},N()(o.tax?o.tax:0).add(N()(o.vat?o.vat:0).value).format(!0))),r.a.createElement("div",{className:"row justify-content-between"},r.a.createElement("div",{className:"col-4"},r.a.createElement("b",null,"Discount")),r.a.createElement("div",{className:"col-4 text-right"},"-$",o.discount)),r.a.createElement("div",{className:"row justify-content-between mb-4"},r.a.createElement("div",{className:"col-4"},r.a.createElement("b",null,"Total price")),r.a.createElement("div",{className:"col-4 text-right"},r.a.createElement("b",null,"$",o.total))),c?r.a.createElement("div",null):r.a.createElement(T,{costs:o,order:t,setLoading:a,setOrderNotification:n,setPaid:l,clientID:i.paypalClientID})))},L=function(e){var t=e.shipment,a=e.getShipmentItemName;return r.a.createElement("div",{key:t.id},r.a.createElement("b",null,"Shipping ID:")," ",t.id,r.a.createElement("br",null),r.a.createElement("b",null,"Shipping carrier:")," ",t.carrier,r.a.createElement("br",null),r.a.createElement("b",null,"Shipping service:")," ",t.service,r.a.createElement("br",null),r.a.createElement("b",null,"Tracking ID:"),"\xa0",r.a.createElement("a",{rel:"noopener noreferrer",target:"_blank",href:t.tracking_url},t.tracking_number),r.a.createElement("br",null),r.a.createElement("b",null,"Shipment created:")," ",Y.a.unix(t.created).format("YYYY-MM-DD"),r.a.createElement("br",null),r.a.createElement("b",null,"Shipping date:")," ",Y()(t.ship_date).format("YYYY-MM-DD"),r.a.createElement("br",null),t.reshipment?r.a.createElement("b",null,"This is a reshipment",r.a.createElement("br",null)):r.a.createElement("div",null),r.a.createElement("b",null,"Items contained:"),r.a.createElement("ul",null,t.items.map((function(e){return r.a.createElement("li",{key:e.item_id},a(e.item_id)," (",e.quantity,")")}))))},z=function(e){var t=e.orderId,a=e.setOrderNotification,c=e.addOrder,l=e.orders,i=e.storeInfo,s=Object(n.useState)({}),m=Object(o.a)(s,2),u=m[0],p=m[1],f=Object(n.useState)(void 0),E=Object(o.a)(f,2),b=E[0],v=E[1],N=Object(n.useState)(!1),h=Object(o.a)(N,2),y=h[0],g=h[1];Object(n.useEffect)((function(){if(b){var e={target:"confetti-holder",max:"150",size:"1",animate:!0,props:["circle","square","triangle","line"],colors:[[40,167,69],[159,9,109]],clock:"5",rotate:!0,width:"".concat(document.body.clientWidth),height:"".concat(document.body.clientHeight)},t=new A.a(e);return t.render(),function(){return t.clear()}}}),[b]);var w={draft:"Your order hasn't been submitted for fulfillment yet.",failed:"There has been an error with fulfillment of your order. Please contact us immediately to get this resolved.",pending:"We are currently working on fulfilling your order.",canceled:"Your order has been cancelled. If this wasn't on purpose please contact us immediately.",onhold:"There has been an error with fulfillment of your order. Please contact us immediately to get this resolved.",inprocess:"Your order is currently being fulfilled and is no longer cancellable.",partial:"Some of your items have been shipped. The rest will be shipped later on. Contact us if you have any questions about this.",fulfilled:"All your products have been shipped.",other:"There is an error with your order. Please contact us immediately to get this resolved."},S=function(e){return u.items.find((function(t){return t.id===e})).name};Object(n.useEffect)((function(){d.a.get("/api/orders/".concat(t)).then((function(e){p(e.data),l.includes(parseInt(t))||c(parseInt(t)),v("draft"!==e.data.status)})).catch(console.error)}),[t,c,l,y,b]);var O=function(e){return e?r.a.createElement("div",null,e,r.a.createElement("br",null)):r.a.createElement("div",null)};return u.id?r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 mt-2"},r.a.createElement("h2",null,"Order ",u.id,"\xa0",b?r.a.createElement("span",{className:"badge badge-success"},"Paid ",r.a.createElement("i",{className:"material-icons"},"done")):r.a.createElement("span",{className:"badge badge-secondary"},y?r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")):r.a.createElement("div",null,"Not paid"))))),r.a.createElement("div",{className:"row"},r.a.createElement("section",{className:"col-md col-sm-12 p-2"},r.a.createElement("div",{className:"card card-outline-secondary mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,"Details"),"Status: ",r.a.createElement("span",{id:"status"},u.status),r.a.createElement("br",null),"Created: ",Y.a.unix(u.created).format("YYYY-MM-DD"),r.a.createElement("br",null),"Shipping method: ",r.a.createElement("span",{id:"shipping"},u.shipping_service_name))),r.a.createElement("div",{className:"card card-outline-secondary mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,"Shipping address"),r.a.createElement("address",null,O(u.recipient.name),O(u.recipient.company),O(u.recipient.address1),O(u.recipient.address2),O(u.recipient.city),O(u.recipient.zip),O(u.recipient.state_name),O(u.recipient.country_name),O(u.recipient.phone),O(u.recipient.email)))),r.a.createElement("div",{className:"card card-outline-secondary mb-3"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h3",null,"Shipping details"),0!==u.shipments.length?u.shipments.map((function(e){return r.a.createElement(L,{key:e.id,shipment:e,getShipmentItemName:S})})):r.a.createElement("div",null),r.a.createElement("p",{id:"shipmentstatus"},w[u.status]?w[u.status]:w.other)))),r.a.createElement("section",{className:"col-md col-sm-12 p-2"},r.a.createElement(q,{order:u,setLoading:g,setOrderNotification:a,paid:b,setPaid:v,storeInfo:i}))),b?r.a.createElement("canvas",{id:"confetti-holder"}):r.a.createElement("div",null)):r.a.createElement(I,null)},M=function(){var e=Object(n.useState)(h()),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)(w()),u=Object(o.a)(l,2),b=u[0],v=u[1],N=Object(n.useState)([]),A=Object(o.a)(N,2),P=A[0],Y=A[1],F=Object(n.useState)([]),T=Object(o.a)(F,2),q=T[0],L=T[1],M=Object(n.useState)([]),J=Object(o.a)(M,2),B=J[0],H=J[1],W=Object(n.useState)([]),$=Object(o.a)(W,2),V=$[0],Z=$[1],G=Object(n.useState)(f),R=Object(o.a)(G,2),U=R[0],K=R[1];Object(n.useEffect)((function(){d.a.get("/api/store").then((function(e){return K(Object(i.a)({},e.data,{brand:f.brand,companySuffix:U.companySuffix,description:U.description,established:U.established,paypalClientID:U.paypalClientID}))})).catch((function(){return Z(["Sorry, there's a problem with the connection!","alert-danger"])}))}),[U.brand,U.companySuffix,U.description,U.established,U.paypalClientID]),Object(n.useEffect)((function(){E().then((function(e){return Y(e)}))}),[]);var Q=function(e){return P.find((function(t){return t.sync_product.id===parseInt(e)}))},X=function(e){c(y(e,a)),H(["".concat(e.name," has been added to your cart!"),"alert-success"])},ee=function(e){return c(g(e,a))},te=function(e,t){return c(O(e,t,a))},ae=function(){return c(j())},ne=function(e){return v(S(e,b))};return r.a.createElement("main",{className:"container"},r.a.createElement(p.Helmet,null,r.a.createElement("title",null,U.name," | ",U.description),r.a.createElement("meta",{name:"description",content:U.description})),r.a.createElement(k,{notification:V,setNotification:Z}),r.a.createElement(k,{notification:q,setNotification:L}),r.a.createElement(k,{notification:B,setNotification:H}),r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(_,{cart:a,orders:b,storeInfo:U}),r.a.createElement("div",{className:"alert alert-danger alert-dismissible fade show ".concat("undefined"!==typeof Storage?"d-none":""),role:"alert"},r.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7")),"Our store currently only supports modern browsers, sorry!"),r.a.createElement(m.a,{exact:!0,path:"/",render:function(){return r.a.createElement(x,{products:P})}}),r.a.createElement(m.a,{path:"/cart",render:function(){return r.a.createElement(C,{cart:a,removeFromCart:ee,storeInfo:U,applyDiscount:te,clearCart:ae})}}),r.a.createElement(m.a,{exact:!0,path:"/product/:id",render:function(e){var t=e.match;return Q(t.params.id)?r.a.createElement(D,{product:Q(t.params.id),addToCart:X}):r.a.createElement(I,null)}}),r.a.createElement(m.a,{exact:!0,path:"/order/:id",render:function(e){var t=e.match;return r.a.createElement(z,{orderId:parseInt(t.params.id),setOrderNotification:L,addOrder:ne,orders:b,storeInfo:U})}}),r.a.createElement("footer",{className:"row justify-content-center text-center m-1"},r.a.createElement("p",null,"\xa9 ",U.established,"-",(new Date).getFullYear()," ",U.name," ",U.companySuffix,". ",U.brand,"\xae is a registered trademark of ",U.name," ",U.companySuffix,". All rights reserved.")))))};a(68);l.a.render(r.a.createElement(M,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.2d386f35.chunk.js.map